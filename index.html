<!DOCTYPE html>
<html lang="ko" class="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ladder Logic Analyst | AI Prompt Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            dark: {
              bg: '#0f172a',
              card: '#1e293b',
              border: '#334155'
            }
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 font-sans selection:bg-blue-100 dark:selection:bg-blue-900 leading-relaxed overflow-x-hidden transition-colors duration-300">
  <div class="noise-overlay"></div>

  <!-- Navbar: Theme & Language -->
  <nav class="sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 px-6 py-3">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
      <div class="flex items-center gap-2 font-bold text-blue-600 dark:text-blue-400">
        <i class="fas fa-microchip text-xl"></i>
        <span class="hidden sm:inline uppercase tracking-tighter">Ladder Analyst</span>
      </div>
      
      <div class="flex items-center gap-4">
        <!-- Language Selector -->
        <div class="relative">
          <button id="lang-btn" class="flex items-center gap-2 px-3 py-1.5 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none">
            <i class="fas fa-globe"></i>
            <span id="current-lang">KO</span>
            <i class="fas fa-chevron-down text-[10px]"></i>
          </button>
          <div id="lang-menu" class="absolute right-0 mt-2 w-40 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 py-2 hidden animate-in fade-in slide-in-from-top-2 z-[60]">
            <button onclick="setLanguage('ko')" class="w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 text-sm transition-colors">한국어 (KO)</button>
            <button onclick="setLanguage('en')" class="w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 text-sm transition-colors">English (EN)</button>
            <button onclick="setLanguage('vi')" class="w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 text-sm transition-colors">Tiếng Việt (VI)</button>
            <button onclick="setLanguage('hi')" class="w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 text-sm transition-colors">हिन्दी (HI)</button>
            <button onclick="setLanguage('de')" class="w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 text-sm transition-colors">Deutsch (DE)</button>
            <button onclick="setLanguage('fr')" class="w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 text-sm transition-colors">Français (FR)</button>
            <button onclick="setLanguage('es')" class="w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 text-sm transition-colors">Español (ES)</button>
          </div>
        </div>

        <!-- Theme Toggle -->
        <button id="theme-toggle" class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center hover:bg-slate-200 dark:hover:bg-slate-700 transition-all border border-slate-200 dark:border-slate-700">
          <i class="fas fa-moon dark:hidden"></i>
          <i class="fas fa-sun hidden dark:block text-yellow-400"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- Top AD Slot -->
  <div class="w-full bg-slate-100 dark:bg-slate-900 py-4 flex justify-center items-center border-b border-slate-200 dark:border-slate-800 min-h-[100px] mb-8">
    <div class="ad-placeholder text-slate-400 dark:text-slate-600 text-xs font-mono">AD SLOT: HEADER (728x90)</div>
  </div>

  <header class="max-w-4xl mx-auto px-6 text-center mb-16">
    <span data-i18n="badge" class="inline-block px-4 py-1.5 mb-6 text-xs font-semibold tracking-wider text-blue-600 dark:text-blue-400 uppercase bg-blue-50 dark:bg-blue-900/30 rounded-full border border-blue-100 dark:border-blue-800">
      Multi-modal PLC Analysis
    </span>
    <h1 data-i18n="hero-title" class="text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight mb-8 bg-gradient-to-r from-slate-900 to-slate-700 dark:from-white dark:to-slate-400 bg-clip-text text-transparent">
      AI로 래더 다이어그램 및 <br class="hidden md:block">PLC 프로그램 분석해 주는 프롬프트 + 주의사항
    </h1>
    <p data-i18n="hero-subtitle" class="text-xl text-slate-600 dark:text-slate-400 max-w-2xl mx-auto leading-relaxed">
      화면 캡처나 PDF 문서를 업로드하여 <br class="hidden md:block">Gemini의 시각적 로직 해석 기능을 활용해 보세요.
    </p>
  </header>

  <main class="max-w-4xl mx-auto px-6 pb-24 space-y-16">
    
    <!-- Section 1: Detailed Guidance -->
    <section class="bg-white dark:bg-slate-900 p-10 rounded-[2.5rem] shadow-[0_8px_30px_rgb(0,0,0,0.02)] dark:shadow-none border border-slate-100 dark:border-slate-800 transition-all hover:shadow-[0_15px_40px_rgb(0,0,0,0.04)]">
      <h2 data-i18n="guide-title" class="text-2xl font-bold mb-8 flex items-center gap-3 text-slate-800 dark:text-slate-100">
        <i class="fas fa-file-alt text-blue-600"></i>
        효과적인 분석을 위한 가이드
      </h2>
      <div class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="p-6 bg-blue-50/50 dark:bg-blue-900/10 rounded-2xl border border-blue-100/50 dark:border-blue-800/50">
            <h4 data-i18n="tip1-title" class="font-bold text-blue-900 dark:text-blue-200 mb-3 flex items-center gap-2">
              <i class="fas fa-camera"></i>
              이미지 및 PDF 형태 (가장 효과적)
            </h4>
            <p data-i18n="tip1-desc" class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed">
              HMI 화면 캡처나 GX Works, RSLogix, TIA Portal 등에서 캡처한 이미지, 또는 로직을 PDF로 인쇄한 문서를 업로드하면 Gemini가 시각적으로 해석합니다.
            </p>
          </div>
          <div class="p-6 bg-emerald-50/50 dark:bg-emerald-900/10 rounded-2xl border border-emerald-100/50 dark:border-emerald-800/50">
            <h4 data-i18n="tip2-title" class="font-bold text-emerald-900 dark:text-emerald-200 mb-3 flex items-center gap-2">
              <i class="fas fa-code"></i>
              텍스트 기반 코드 분석
            </h4>
            <p data-i18n="tip2-desc" class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed">
              Instruction List (IL), Structured Text (ST) 형태는 더욱 정확한 분석이 가능합니다. Rockwell의 .L5X 파일은 직접 분석이 가능합니다.
            </p>
          </div>
        </div>
        
        <div class="p-6 bg-amber-50/50 dark:bg-amber-900/10 rounded-2xl border border-amber-100/50 dark:border-amber-800/50">
          <h4 data-i18n="warning-title" class="font-bold text-amber-900 dark:text-amber-200 mb-3 flex items-center gap-2">
            <i class="fas fa-exclamation-circle"></i>
            특정 형식 및 바이너리 파일 주의사항
          </h4>
          <p data-i18n="warning-desc" class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed">
            Mitsubishi의 .gxw나 Siemens의 .ap15 같은 바이너리 형태는 AI가 직접 해석하기 어렵습니다. 화면 캡처 이미지나 PDF를 활용해 주세요.
          </p>
        </div>
      </div>
    </section>

    <!-- Section 2: Input Form -->
    <section class="space-y-10">
      <div class="bg-white dark:bg-slate-900 p-10 rounded-[2.5rem] shadow-[0_8px_30px_rgb(0,0,0,0.02)] dark:shadow-none border border-slate-100 dark:border-slate-800">
        <h2 data-i18n="form-title" class="text-2xl font-bold mb-8 flex items-center gap-3 text-slate-800 dark:text-slate-100">
          <i class="fas fa-upload text-blue-600"></i>
          이미지 / PDF / 데이터 업로드
        </h2>
        
        <div class="space-y-8">
          <div id="drop-zone" class="w-full p-12 border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-3xl bg-slate-50 dark:bg-slate-800/50 flex flex-col items-center justify-center transition-all hover:border-blue-400 dark:hover:border-blue-500 hover:bg-blue-50/30 group cursor-pointer relative overflow-hidden">
            <input type="file" id="file-input" class="hidden" accept=".jpg,.jpeg,.png,.pdf,.xgm,.gxw,.gxw2,.gxw3,.l5x,.txt,.csv,.awl,.st">
            <div id="upload-preview" class="hidden absolute inset-0 bg-white/95 dark:bg-slate-900/95 z-20 flex items-center justify-center p-4"></div>
            <div class="flex gap-4 mb-6">
              <div class="w-14 h-14 bg-white dark:bg-slate-800 rounded-2xl shadow-sm flex items-center justify-center group-hover:scale-110 transition-transform">
                <i class="fas fa-image text-xl text-blue-500"></i>
              </div>
              <div class="w-14 h-14 bg-white dark:bg-slate-800 rounded-2xl shadow-sm flex items-center justify-center group-hover:scale-110 transition-transform delay-75">
                <i class="fas fa-file-pdf text-xl text-red-500"></i>
              </div>
              <div class="w-14 h-14 bg-white dark:bg-slate-800 rounded-2xl shadow-sm flex items-center justify-center group-hover:scale-110 transition-transform delay-150">
                <i class="fas fa-file-code text-xl text-emerald-500"></i>
              </div>
            </div>
            <p data-i18n="upload-main" class="text-slate-700 dark:text-slate-200 font-bold mb-1 text-center text-lg">파일을 선택하거나 드래그하세요</p>
            <p data-i18n="upload-sub" class="text-slate-400 dark:text-slate-500 text-sm text-center">이미지, PDF, .L5X, .xgm, .txt 등 지원</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
              <label data-i18n="label-plc" for="plc-type" class="block text-sm font-bold text-slate-700 dark:text-slate-300 mb-3 ml-1">PLC 제조사 / 기종</label>
              <input type="text" id="plc-type" placeholder="예: LS Electric, Mitsubishi, Siemens, Rockwell" 
                class="w-full px-5 py-4 bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:bg-white dark:focus:bg-slate-700 transition-all outline-none">
            </div>
            <div>
              <label data-i18n="label-goal" for="analysis-goal" class="block text-sm font-bold text-slate-700 dark:text-slate-300 mb-3 ml-1">분석 목적</label>
              <select id="analysis-goal" class="w-full px-5 py-4 bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:bg-white dark:focus:bg-slate-700 transition-all outline-none appearance-none cursor-pointer">
                <option value="general" data-i18n="opt-general">전체적인 로직 설명 및 흐름 파악</option>
                <option value="debug" data-i18n="opt-debug">오류/버그 원인 파악 및 수정 제안</option>
                <option value="optimize" data-i18n="opt-optimize">로직 최적화 및 효율성 개선</option>
              </select>
            </div>
          </div>

          <div>
            <label for="ladder-logic" class="block text-sm font-bold text-slate-700 dark:text-slate-300 mb-3 ml-1 flex justify-between items-center">
              <span data-i18n="label-text">텍스트 로직 (IL, ST 등) 또는 추가 정보</span>
              <span class="text-[10px] text-slate-400 font-normal uppercase tracking-widest bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded">Text Context</span>
            </label>
            <textarea id="ladder-logic" rows="8" placeholder="Instruction List (IL), Structured Text (ST), 또는 텍스트 리스트 형태의 코드를 직접 입력하거나 이미지/PDF에 대한 추가 설명을 적어주세요." 
              class="w-full px-5 py-4 bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:bg-white dark:focus:bg-slate-700 transition-all outline-none resize-none font-mono text-sm mb-6"></textarea>
            
            <div class="flex justify-center">
              <button id="ai-search-btn" class="w-full md:w-auto flex items-center justify-center gap-3 px-12 py-5 bg-blue-600 hover:bg-blue-500 text-white text-lg font-bold rounded-2xl transition-all shadow-xl shadow-blue-600/20 active:scale-95">
                <i class="fab fa-google text-2xl"></i>
                <span data-i18n="btn-analyze">Google AI로 즉시 분석하기</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Mid AD Slot -->
    <div class="w-full bg-slate-100 dark:bg-slate-900 py-6 flex justify-center items-center border border-slate-200 dark:border-slate-800 rounded-3xl min-h-[150px]">
      <div class="ad-placeholder text-slate-400 dark:text-slate-600 text-xs font-mono">AD SLOT: MID-CONTENT (336x280)</div>
    </div>

    <!-- Section 3: Result Preview -->
    <section class="space-y-8">
      <div class="bg-slate-900 rounded-[2.5rem] p-10 text-slate-300 shadow-2xl relative overflow-hidden border border-white/5">
        <div class="absolute -top-10 -right-10 text-[180px] font-black text-white/5 select-none pointer-events-none uppercase">Gemini</div>
        <div class="relative z-10">
          <h3 class="text-white font-bold text-2xl flex items-center gap-3 mb-8">
            <span class="w-3 h-3 rounded-full bg-blue-500 animate-pulse"></span>
            <span data-i18n="preview-title">전송될 프롬프트 미리보기</span>
          </h3>
          <div id="prompt-preview" class="min-h-[400px] text-base leading-relaxed whitespace-pre-wrap font-mono p-6 bg-slate-800/50 rounded-2xl border border-white/5 scrollbar-thin scrollbar-thumb-slate-700">
            데이터를 입력하면 PLC 특화 분석 프롬프트가 생성됩니다...
          </div>
        </div>
      </div>
    </section>

    <!-- Bottom AD Slot -->
    <div class="w-full bg-slate-100 dark:bg-slate-900 py-8 flex justify-center items-center border border-slate-200 dark:border-slate-800 rounded-3xl min-h-[120px]">
      <div class="ad-placeholder text-slate-400 dark:text-slate-600 text-xs font-mono">AD SLOT: BOTTOM (728x90)</div>
    </div>
  </main>

  <footer class="py-16 px-6 border-t border-slate-200 dark:border-slate-800 text-center text-slate-500">
    <div class="max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6">
      <p data-i18n="footer-copy" class="font-medium text-sm">© 2026 Ladder Analyst. Optimized for Multi-modal Gemini.</p>
      <div class="flex gap-6 text-xs font-bold uppercase tracking-widest">
        <a href="#" data-i18n="footer-privacy" class="hover:text-blue-600 transition-colors">Privacy</a>
        <a href="#" data-i18n="footer-contact" class="hover:text-blue-600 transition-colors">Contact</a>
      </div>
    </div>
  </footer>

  <script defer src="main.js"></script>
</body>
</html>
